% font packages
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{mathrsfs}

% more math operators' support
\usepackage{physics}

% Boldface
\usepackage{bm}

% Tikz
\usepackage{tikz}
\usetikzlibrary{calc}

% Gaussian Elimination
\usepackage{gauss}

% Commutative Graph
\usepackage[all]{xy}

% Comment
\usepackage{comment}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                            %------------- Miscellaneous -------------%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \makeatletter
% \renewcommand{\thefootnote}{\textcircled{\arabic{footnote}}}
% \def\nosuper@makefnmark{\hbox{\normalfont\@thefnmark\space}}
% \let\save@makefntext\@makefntext
% \long\def\@makefntext#1{{%
% \let\@makefnmark\nosuper@makefnmark
% \save@makefntext{#1}}}
% \makeatother

\NewDocumentCommand{\oarg}{m}{\IfNoValueTF{#1}{}{#1}}

% 猫猫特供引用指令: \catref[]{}{}[]
\NewDocumentCommand{\catref}{ommo}{%
    \@ifundefined{r@#2}%
    {\IfBooleanTF{#1}%
        {{\color{purple}{#3}}\footnote{#3: \IfNoValueTF{#4}{未定义}{#4}}}%
        {{\color{purple}{#3}}}%
    }%
    {\hyperref[#2]{#3}}%
}

% 参数说明: 
% #1: 一个 Boolean 参数, 建议直接传递星号参数的值, 表示是否需要下标. 
% #2: UUID
% #3: 算子表达式
% #4: 脚注内容

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                            %------------- Mathematical Operators -------------%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 定义 / 定理声明

\NewDocumentCommand{\DEF}{sommos}{%
    \IfNoValueTF{#2}{}{设#2, }定义\textbf{#3}\IfBooleanTF{#1}{当且仅当}{为}: #4\IfNoValueTF{#5}{}{, 记作#5}\IfBooleanTF{#6}{}{. }%
}

\NewDocumentCommand{\THM}{oms}{%
    \IfNoValueTF{#1}{}{设#1, 则: }#2\IfBooleanTF{#3}{}{. }%
}

\NewDocumentCommand{\decl}{smm}{\IfBooleanTF{#1}{#2是#3}{#2 \(:\) #3}}

\NewDocumentCommand{\paren}{m}{\ensuremath{\left(#1\right)}}

% 基本算子

% 自然数
\NewDocumentCommand{\N}{s}{\catref[#1]{dfn:Nat}{\ensuremath{\mathbb{N}}}[自然数]}
\NewDocumentCommand{\Z}{s}{\catref[#1]{dfn:Int}{\ensuremath{\mathbb{Z}}}[整数]}
\NewDocumentCommand{\Q}{s}{\catref[#1]{dfn:Rat}{\ensuremath{\mathbb{Q}}}[有理数]}
\NewDocumentCommand{\R}{s}{\catref[#1]{dfn:Real}{\ensuremath{\mathbb{R}}}[实数]}
\NewDocumentCommand{\C}{s}{\catref[#1]{dfn:Complex}{\ensuremath{\mathbb{C}}}[复数]}

% 二元对
\NewDocumentCommand{\pair}{smm}{\catref[#1]{dfn:OrderedPair}{\ensuremath{\left(#2,#3\right)}}[有序对]}
\NewDocumentCommand{\triplet}{smmm}{\catref[#1]{dfn:OrderedTriplet}{\ensuremath{\left(#2,#3,#4\right)}}[有序三元组]}